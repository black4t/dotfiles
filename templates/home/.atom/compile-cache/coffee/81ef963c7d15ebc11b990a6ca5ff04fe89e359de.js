(function() {
  var StyleLine;

  StyleLine = require("../../lib/commands/style-line");

  describe("StyleLine", function() {
    var editor;
    editor = null;
    beforeEach(function() {
      waitsForPromise(function() {
        return atom.workspace.open("empty.markdown");
      });
      return runs(function() {
        return editor = atom.workspace.getActiveTextEditor();
      });
    });
    describe("blockquote", function() {
      it("insert empty blockquote", function() {
        new StyleLine("blockquote").trigger();
        expect(editor.getText()).toBe("> ");
        return expect(editor.getCursorBufferPosition().column).toBe(2);
      });
      it("insert blockquote in long text", function() {
        var text;
        text = "3. Consider a (ordered or unordered) markdown list. On apply style to the line, if the item spans over more than one line, then the text of the item alters. See the below gif in https://github.com/zhuochun/md-writer/issues/257";
        editor.setText(text);
        editor.setCursorBufferPosition([0, 4]);
        new StyleLine("blockquote").trigger();
        expect(editor.getText()).toBe("> " + text);
        return expect(editor.getCursorBufferPosition().column).toBe(6);
      });
      it("insert blockquote in indented text", function() {
        var text;
        text = "  In every day, there are 1,440 minutes. That means we have 1,440 daily opportunities to make a positive impact.";
        editor.setText(text);
        editor.setCursorBufferPosition([0, 10]);
        new StyleLine("blockquote").trigger();
        expect(editor.getText()).toBe("> " + text);
        return expect(editor.getCursorBufferPosition().column).toBe(12);
      });
      return it("remove blockquote", function() {
        editor.setText("> blockquote");
        editor.setCursorBufferPosition([0, 4]);
        new StyleLine("blockquote").trigger();
        expect(editor.getText()).toBe("blockquote");
        return expect(editor.getCursorBufferPosition().column).toBe(2);
      });
    });
    describe("headings", function() {
      it("apply heading 2", function() {
        editor.setText("# heading");
        editor.setCursorBufferPosition([0, 3]);
        new StyleLine("h2").trigger();
        expect(editor.getText()).toBe("## heading");
        return expect(editor.getCursorBufferPosition().column).toBe(4);
      });
      it("remove heading 3", function() {
        editor.setText("### heading");
        editor.setCursorBufferPosition([0, 7]);
        new StyleLine("h3").trigger();
        expect(editor.getText()).toBe("heading");
        return expect(editor.getCursorBufferPosition().column).toBe(3);
      });
      return it("apply/remove heading 5", function() {
        atom.config.set("markdown-writer.lineStyles.h5", {
          before: "##### ",
          after: " #####"
        });
        editor.setText("## heading");
        editor.setCursorBufferPosition([0, 2]);
        new StyleLine("h5").trigger();
        expect(editor.getText()).toBe("##### heading #####");
        expect(editor.getCursorBufferPosition().column).toBe(6);
        editor.setCursorBufferPosition([0, 16]);
        new StyleLine("h5").trigger();
        expect(editor.getText()).toBe("heading");
        return expect(editor.getCursorBufferPosition().column).toBe(7);
      });
    });
    return describe("lists", function() {
      it("apply ordered/unordered list", function() {
        editor.setText("- list");
        new StyleLine("ol").trigger();
        expect(editor.getText()).toBe("1. list");
        expect(editor.getCursorBufferPosition().column).toBe(7);
        new StyleLine("ul").trigger();
        expect(editor.getText()).toBe("- list");
        return expect(editor.getCursorBufferPosition().column).toBe(6);
      });
      it("apply ordered/unordered list on multiple rows", function() {
        editor.setText("- list 1\nlist 2\n- list 3");
        editor.setSelectedBufferRange([[0, 0], [3, 0]]);
        new StyleLine("ol").trigger();
        expect(editor.getText()).toBe("1. list 1\n2. list 2\n3. list 3");
        new StyleLine("ul").trigger();
        return expect(editor.getText()).toBe("- list 1\n- list 2\n- list 3");
      });
      it("apply ordered list on multiple rows (removeEmptyLine)", function() {
        editor.setText("list 1\n\nlist 2\n\nlist 3");
        editor.setSelectedBufferRange([[0, 0], [4, 3]]);
        new StyleLine("ol").trigger();
        return expect(editor.getText()).toBe("1. list 1\n2. list 2\n3. list 3");
      });
      it("apply unordered list on multiple rows (removeEmptyLine)", function() {
        editor.setText("list 1\n\nlist 2\n\nlist 3");
        editor.setSelectedBufferRange([[0, 0], [4, 3]]);
        new StyleLine("ul").trigger();
        return expect(editor.getText()).toBe("- list 1\n- list 2\n- list 3");
      });
      it("apply task list", function() {
        editor.setText("task");
        new StyleLine("task").trigger();
        expect(editor.getText()).toBe("- [ ] task");
        new StyleLine("task").trigger();
        return expect(editor.getText()).toBe("task");
      });
      it("apply task ol list", function() {
        editor.setText("1. task");
        new StyleLine("task").trigger();
        expect(editor.getText()).toBe("1. [ ] task");
        new StyleLine("task").trigger();
        return expect(editor.getText()).toBe("task");
      });
      return it("apply taskdone ol list", function() {
        editor.setText("1. [ ] task");
        new StyleLine("taskdone").trigger();
        expect(editor.getText()).toBe("1. [x] task");
        new StyleLine("taskdone").trigger();
        return expect(editor.getText()).toBe("1. [ ] task");
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvbXl1Z2EvLmF0b20vcGFja2FnZXMvbWFya2Rvd24td3JpdGVyL3NwZWMvY29tbWFuZHMvc3R5bGUtbGluZS1zcGVjLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsU0FBQSxHQUFZLE9BQUEsQ0FBUSwrQkFBUjs7RUFFWixRQUFBLENBQVMsV0FBVCxFQUFzQixTQUFBO0FBQ3BCLFFBQUE7SUFBQSxNQUFBLEdBQVM7SUFFVCxVQUFBLENBQVcsU0FBQTtNQUNULGVBQUEsQ0FBZ0IsU0FBQTtlQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBZixDQUFvQixnQkFBcEI7TUFBSCxDQUFoQjthQUNBLElBQUEsQ0FBSyxTQUFBO2VBQUcsTUFBQSxHQUFTLElBQUksQ0FBQyxTQUFTLENBQUMsbUJBQWYsQ0FBQTtNQUFaLENBQUw7SUFGUyxDQUFYO0lBSUEsUUFBQSxDQUFTLFlBQVQsRUFBdUIsU0FBQTtNQUNyQixFQUFBLENBQUcseUJBQUgsRUFBOEIsU0FBQTtRQUM1QixJQUFJLFNBQUosQ0FBYyxZQUFkLENBQTJCLENBQUMsT0FBNUIsQ0FBQTtRQUNBLE1BQUEsQ0FBTyxNQUFNLENBQUMsT0FBUCxDQUFBLENBQVAsQ0FBd0IsQ0FBQyxJQUF6QixDQUE4QixJQUE5QjtlQUNBLE1BQUEsQ0FBTyxNQUFNLENBQUMsdUJBQVAsQ0FBQSxDQUFnQyxDQUFDLE1BQXhDLENBQStDLENBQUMsSUFBaEQsQ0FBcUQsQ0FBckQ7TUFINEIsQ0FBOUI7TUFLQSxFQUFBLENBQUcsZ0NBQUgsRUFBcUMsU0FBQTtBQUNuQyxZQUFBO1FBQUEsSUFBQSxHQUFPO1FBQ1AsTUFBTSxDQUFDLE9BQVAsQ0FBZSxJQUFmO1FBQ0EsTUFBTSxDQUFDLHVCQUFQLENBQStCLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBL0I7UUFFQSxJQUFJLFNBQUosQ0FBYyxZQUFkLENBQTJCLENBQUMsT0FBNUIs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QXdCLENBQUMsSUFBekIsQ0FBOEIsYUFBOUI7UUFFQSxJQUFJLFNBQUosQ0FBYyxVQUFkLENBQXlCLENBQUMsT0FBMUIsQ0FBQTtlQUNBLE1BQUEsQ0FBTyxNQUFNLENBQUMsT0FBUCxDQUFBLENBQVAsQ0FBd0IsQ0FBQyxJQUF6QixDQUE4QixhQUE5QjtNQVAyQixDQUE3QjtJQXRGZ0IsQ0FBbEI7RUF4RW9CLENBQXRCO0FBRkEiLCJzb3VyY2VzQ29udGVudCI6WyJTdHlsZUxpbmUgPSByZXF1aXJlIFwiLi4vLi4vbGliL2NvbW1hbmRzL3N0eWxlLWxpbmVcIlxuXG5kZXNjcmliZSBcIlN0eWxlTGluZVwiLCAtPlxuICBlZGl0b3IgPSBudWxsXG5cbiAgYmVmb3JlRWFjaCAtPlxuICAgIHdhaXRzRm9yUHJvbWlzZSAtPiBhdG9tLndvcmtzcGFjZS5vcGVuKFwiZW1wdHkubWFya2Rvd25cIilcbiAgICBydW5zIC0+IGVkaXRvciA9IGF0b20ud29ya3NwYWNlLmdldEFjdGl2ZVRleHRFZGl0b3IoKVxuXG4gIGRlc2NyaWJlIFwiYmxvY2txdW90ZVwiLCAtPlxuICAgIGl0IFwiaW5zZXJ0IGVtcHR5IGJsb2NrcXVvdGVcIiwgLT5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJibG9ja3F1b3RlXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCI+IFwiKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpLmNvbHVtbikudG9CZSgyKVxuXG4gICAgaXQgXCJpbnNlcnQgYmxvY2txdW90ZSBpbiBsb25nIHRleHRcIiwgLT5cbiAgICAgIHRleHQgPSBcIjMuIENvbnNpZGVyIGEgKG9yZGVyZWQgb3IgdW5vcmRlcmVkKSBtYXJrZG93biBsaXN0LiBPbiBhcHBseSBzdHlsZSB0byB0aGUgbGluZSwgaWYgdGhlIGl0ZW0gc3BhbnMgb3ZlciBtb3JlIHRoYW4gb25lIGxpbmUsIHRoZW4gdGhlIHRleHQgb2YgdGhlIGl0ZW0gYWx0ZXJzLiBTZWUgdGhlIGJlbG93IGdpZiBpbiBodHRwczovL2dpdGh1Yi5jb20vemh1b2NodW4vbWQtd3JpdGVyL2lzc3Vlcy8yNTdcIlxuICAgICAgZWRpdG9yLnNldFRleHQodGV4dClcbiAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMCwgNF0pXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJibG9ja3F1b3RlXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCI+ICN7dGV4dH1cIilcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKS5jb2x1bW4pLnRvQmUoNilcblxuICAgIGl0IFwiaW5zZXJ0IGJsb2NrcXVvdGUgaW4gaW5kZW50ZWQgdGV4dFwiLCAtPlxuICAgICAgdGV4dCA9IFwiICBJbiBldmVyeSBkYXksIHRoZXJlIGFyZSAxLDQ0MCBtaW51dGVzLiBUaGF0IG1lYW5zIHdlIGhhdmUgMSw0NDAgZGFpbHkgb3Bwb3J0dW5pdGllcyB0byBtYWtlIGEgcG9zaXRpdmUgaW1wYWN0LlwiXG4gICAgICBlZGl0b3Iuc2V0VGV4dCh0ZXh0KVxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCAxMF0pXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJibG9ja3F1b3RlXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCI+ICN7dGV4dH1cIilcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKS5jb2x1bW4pLnRvQmUoMTIpXG5cbiAgICBpdCBcInJlbW92ZSBibG9ja3F1b3RlXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dChcIj4gYmxvY2txdW90ZVwiKVxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCA0XSlcblxuICAgICAgbmV3IFN0eWxlTGluZShcImJsb2NrcXVvdGVcIikudHJpZ2dlcigpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZShcImJsb2NrcXVvdGVcIilcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKS5jb2x1bW4pLnRvQmUoMilcblxuICBkZXNjcmliZSBcImhlYWRpbmdzXCIsIC0+XG4gICAgaXQgXCJhcHBseSBoZWFkaW5nIDJcIiwgLT5cbiAgICAgIGVkaXRvci5zZXRUZXh0KFwiIyBoZWFkaW5nXCIpXG4gICAgICBlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oWzAsIDNdKVxuXG4gICAgICBuZXcgU3R5bGVMaW5lKFwiaDJcIikudHJpZ2dlcigpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZShcIiMjIGhlYWRpbmdcIilcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKS5jb2x1bW4pLnRvQmUoNClcblxuICAgIGl0IFwicmVtb3ZlIGhlYWRpbmcgM1wiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQoXCIjIyMgaGVhZGluZ1wiKVxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCA3XSlcblxuICAgICAgbmV3IFN0eWxlTGluZShcImgzXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCJoZWFkaW5nXCIpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkuY29sdW1uKS50b0JlKDMpXG5cbiAgICBpdCBcImFwcGx5L3JlbW92ZSBoZWFkaW5nIDVcIiwgLT5cbiAgICAgIGF0b20uY29uZmlnLnNldChcIm1hcmtkb3duLXdyaXRlci5saW5lU3R5bGVzLmg1XCIsIGJlZm9yZTogXCIjIyMjIyBcIiwgYWZ0ZXI6IFwiICMjIyMjXCIpXG5cbiAgICAgIGVkaXRvci5zZXRUZXh0KFwiIyMgaGVhZGluZ1wiKVxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCAyXSkgIyBpbnNpZGUgIyNcblxuICAgICAgbmV3IFN0eWxlTGluZShcImg1XCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCIjIyMjIyBoZWFkaW5nICMjIyMjXCIpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkuY29sdW1uKS50b0JlKDYpICMgbW92ZSB0byBlbmQgb2YgI1xuXG4gICAgICBlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oWzAsIDE2XSkgIyBjbG9zZSB0byB0aGUgZW5kIG9mIGxpbmVcblxuICAgICAgbmV3IFN0eWxlTGluZShcImg1XCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCJoZWFkaW5nXCIpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkuY29sdW1uKS50b0JlKDcpXG5cbiAgZGVzY3JpYmUgXCJsaXN0c1wiLCAtPlxuICAgIGl0IFwiYXBwbHkgb3JkZXJlZC91bm9yZGVyZWQgbGlzdFwiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQoXCItIGxpc3RcIilcblxuICAgICAgbmV3IFN0eWxlTGluZShcIm9sXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCIxLiBsaXN0XCIpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkuY29sdW1uKS50b0JlKDcpXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJ1bFwiKS50cmlnZ2VyKClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlKFwiLSBsaXN0XCIpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkuY29sdW1uKS50b0JlKDYpXG5cbiAgICBpdCBcImFwcGx5IG9yZGVyZWQvdW5vcmRlcmVkIGxpc3Qgb24gbXVsdGlwbGUgcm93c1wiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQgXCJcIlwiXG4gICAgICAtIGxpc3QgMVxuICAgICAgbGlzdCAyXG4gICAgICAtIGxpc3QgM1xuICAgICAgXCJcIlwiXG4gICAgICBlZGl0b3Iuc2V0U2VsZWN0ZWRCdWZmZXJSYW5nZShbWzAsIDBdLCBbMywgMF1dKVxuXG4gICAgICBuZXcgU3R5bGVMaW5lKFwib2xcIikudHJpZ2dlcigpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZSBcIlwiXCJcbiAgICAgIDEuIGxpc3QgMVxuICAgICAgMi4gbGlzdCAyXG4gICAgICAzLiBsaXN0IDNcbiAgICAgIFwiXCJcIlxuXG4gICAgICBuZXcgU3R5bGVMaW5lKFwidWxcIikudHJpZ2dlcigpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZSBcIlwiXCJcbiAgICAgIC0gbGlzdCAxXG4gICAgICAtIGxpc3QgMlxuICAgICAgLSBsaXN0IDNcbiAgICAgIFwiXCJcIlxuXG4gICAgaXQgXCJhcHBseSBvcmRlcmVkIGxpc3Qgb24gbXVsdGlwbGUgcm93cyAocmVtb3ZlRW1wdHlMaW5lKVwiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQgXCJcIlwiXG4gICAgICBsaXN0IDFcblxuICAgICAgbGlzdCAyXG5cbiAgICAgIGxpc3QgM1xuICAgICAgXCJcIlwiXG4gICAgICBlZGl0b3Iuc2V0U2VsZWN0ZWRCdWZmZXJSYW5nZShbWzAsIDBdLCBbNCwgM11dKVxuXG4gICAgICBuZXcgU3R5bGVMaW5lKFwib2xcIikudHJpZ2dlcigpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZSBcIlwiXCJcbiAgICAgIDEuIGxpc3QgMVxuICAgICAgMi4gbGlzdCAyXG4gICAgICAzLiBsaXN0IDNcbiAgICAgIFwiXCJcIlxuXG4gICAgaXQgXCJhcHBseSB1bm9yZGVyZWQgbGlzdCBvbiBtdWx0aXBsZSByb3dzIChyZW1vdmVFbXB0eUxpbmUpXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dCBcIlwiXCJcbiAgICAgIGxpc3QgMVxuXG4gICAgICBsaXN0IDJcblxuICAgICAgbGlzdCAzXG4gICAgICBcIlwiXCJcbiAgICAgIGVkaXRvci5zZXRTZWxlY3RlZEJ1ZmZlclJhbmdlKFtbMCwgMF0sIFs0LCAzXV0pXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJ1bFwiKS50cmlnZ2VyKClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlIFwiXCJcIlxuICAgICAgLSBsaXN0IDFcbiAgICAgIC0gbGlzdCAyXG4gICAgICAtIGxpc3QgM1xuICAgICAgXCJcIlwiXG5cbiAgICBpdCBcImFwcGx5IHRhc2sgbGlzdFwiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQoXCJ0YXNrXCIpXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJ0YXNrXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCItIFsgXSB0YXNrXCIpXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJ0YXNrXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCJ0YXNrXCIpXG5cbiAgICBpdCBcImFwcGx5IHRhc2sgb2wgbGlzdFwiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQoXCIxLiB0YXNrXCIpXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJ0YXNrXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCIxLiBbIF0gdGFza1wiKVxuXG4gICAgICBuZXcgU3R5bGVMaW5lKFwidGFza1wiKS50cmlnZ2VyKClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlKFwidGFza1wiKVxuXG4gICAgaXQgXCJhcHBseSB0YXNrZG9uZSBvbCBsaXN0XCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dChcIjEuIFsgXSB0YXNrXCIpXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJ0YXNrZG9uZVwiKS50cmlnZ2VyKClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlKFwiMS4gW3hdIHRhc2tcIilcblxuICAgICAgbmV3IFN0eWxlTGluZShcInRhc2tkb25lXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCIxLiBbIF0gdGFza1wiKVxuIl19
