/** @babel */
/* eslint-env jasmine */

var _libOutputPanel = require('./../lib/output-panel');

describe('test panel', function () {
  var outputPanel = undefined;

  beforeEach(function () {
    outputPanel = new _libOutputPanel.OutputPanel();
  });

  describe('make link', function () {
    it('renders text without links', function () {
      var elements = outputPanel.makeLink('test');
      expect(elements.length).toBe(1);
    });

    it('renders a link', function () {
      var elements = outputPanel.makeLink('/Users/user/go/src/foo/bar.go:23');
      expect(elements).toBeTruthy();
      expect(elements.length).toBe(2);
      expect(elements[0].tag).toBe('span');
      expect(elements[1].tag).toBe('a');
      expect(elements[0].children[0].text).toBe('');
      expect(elements[1].children[0].text).toBe('/Users/user/go/src/foo/bar.go:23');
    });

    it('renders a link to a go file (relative path)', function () {
      var elements = outputPanel.makeLink('failure at foo/bar.go:23');
      expect(elements.length).toBe(2);
      expect(elements[0].tag).toBe('span');
      expect(elements[1].tag).toBe('a');
      expect(elements[1].children[0].text).toBe('foo/bar.go:23');
    });

    it('renders a link to a go file (absolute path)', function () {
      var elements = outputPanel.makeLink('failure at /home/user/go/src/foo/bar.go:23');
      expect(elements.length).toBe(2);
      expect(elements[0].tag).toBe('span');
      expect(elements[1].tag).toBe('a');
      expect(elements[1].children[0].text).toBe('/home/user/go/src/foo/bar.go:23');
    });

    it('renders a link to a test go file (relative path)', function () {
      var elements = outputPanel.makeLink('failure at foo/bar_test.go:23');
      expect(elements.length).toBe(2);
      expect(elements[0].tag).toBe('span');
      expect(elements[1].tag).toBe('a');
      expect(elements[1].children[0].text).toBe('foo/bar_test.go:23');
    });

    it('renders a link to a test go file (absolute path)', function () {
      var elements = outputPanel.makeLink('failure at /home/user/go/src/foo/bar_test.go:23');
      expect(elements.length).toBe(2);
      expect(elements[0].tag).toBe('span');
      expect(elements[1].tag).toBe('a');
      expect(elements[1].children[0].text).toBe('/home/user/go/src/foo/bar_test.go:23');
    });

    it('renders links to Windows paths', function () {
      var elements = outputPanel.makeLink('failure at C:\\Users\\Me\\go\\src\\foo\\bar_test.go:23');
      expect(elements.length).toBe(2);
      expect(elements[0].tag).toBe('span');
      expect(elements[1].tag).toBe('a');
      expect(elements[1].children[0].text).toBe('C:\\Users\\Me\\go\\src\\foo\\bar_test.go:23');
    });

    it('renders multiple links', function () {
      var elements = outputPanel.makeLink('failures at foo/bar.go:12 and baz/quux.go:34');
      expect(elements.length).toBe(4);
      expect(elements[0].tag).toBe('span');
      expect(elements[1].tag).toBe('a');
      expect(elements[2].tag).toBe('span');
      expect(elements[3].tag).toBe('a');

      expect(elements[1].children[0].text).toBe('foo/bar.go:12');
      expect(elements[3].children[0].text).toBe('baz/quux.go:34');
    });

    it('renders a link with prefix and suffix', function () {
      var elements = outputPanel.makeLink('prefix foo/bar.go:23 suffix');
      expect(elements.length).toBe(3);
      expect(elements[0].tag).toBe('span');
      expect(elements[1].tag).toBe('a');
      expect(elements[2].tag).toBe('span');

      expect(elements[0].children[0].text).toBe('prefix ');
      expect(elements[1].children[0].text).toBe('foo/bar.go:23');
      expect(elements[2].children[0].text).toBe(' suffix');
    });

    it('renders links in multi-line text', function () {
      var elements = outputPanel.makeLink('--- FAIL: TestFail (0.00s)\n\tbar_test.go:23: Error!\nFAIL');
      expect(elements.length).toBe(3);
      expect(elements[0].children[0].text).toBe('--- FAIL: TestFail (0.00s)\n\t');
      expect(elements[1].children[0].text).toBe('bar_test.go:23');
      expect(elements[2].children[0].text).toBe(': Error!\nFAIL');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL215dWdhLy5hdG9tL3BhY2thZ2VzL2dvLXBsdXMvc3BlYy9vdXRwdXQtcGFuZWwtc3BlYy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OEJBRzRCLHVCQUF1Qjs7QUFFbkQsUUFBUSxDQUFDLFlBQVksRUFBRSxZQUFNO0FBQzNCLE1BQUksV0FBVyxZQUFBLENBQUE7O0FBRWYsWUFBVSxDQUFDLFlBQU07QUFDZixlQUFXLEdBQUcsaUNBQWlCLENBQUE7R0FDaEMsQ0FBQyxDQUFBOztBQUVGLFVBQVEsQ0FBQyxXQUFXLEVBQUUsWUFBTTtBQUMxQixNQUFFLENBQUMsNEJBQTRCLEVBQUUsWUFBTTtBQUNyQyxVQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQzdDLFlBQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO0tBQ2hDLENBQUMsQ0FBQTs7QUFFRixNQUFFLENBQUMsZ0JBQWdCLEVBQUUsWUFBTTtBQUN6QixVQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLGtDQUFrQyxDQUFDLENBQUE7QUFDekUsWUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFBO0FBQzdCLFlBQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQy9CLFlBQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQ3BDLFlBQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ2pDLFlBQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElB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QUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUNwQyxZQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTs7QUFFakMsWUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFBO0FBQzFELFlBQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO0tBQzVELENBQUMsQ0FBQTs7QUFFRixNQUFFLENBQUMsdUNBQXVDLEVBQUUsWUFBTTtBQUNoRCxVQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLDZCQUE2QixDQUFDLENBQUE7QUFDcEUsWUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDL0IsWUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDcEMsWUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7QUFDakMsWUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRXBDLFlBQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQTtBQUNwRCxZQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUE7QUFDMUQsWUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFBO0tBQ3JELENBQUMsQ0FBQTs7QUFFRixNQUFFLENBQUMsa0NBQWtDLEVBQUUsWUFBTTtBQUMzQyxVQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsUUFBUSxDQUNuQyw0REFBNEQsQ0FDN0QsQ0FBQTtBQUNELFlBQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQy9CLFlBQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FDdkMsZ0NBQWdDLENBQ2pDLENBQUE7QUFDRCxZQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtBQUMzRCxZQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtLQUM1RCxDQUFDLENBQUE7R0FDSCxDQUFDLENBQUE7Q0FDSCxDQUFDLENBQUEiLCJmaWxlIjoiL2hvbWUvbXl1Z2EvLmF0b20vcGFja2FnZXMvZ28tcGx1cy9zcGVjL291dHB1dC1wYW5lbC1zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBiYWJlbCAqL1xuLyogZXNsaW50LWVudiBqYXNtaW5lICovXG5cbmltcG9ydCB7IE91dHB1dFBhbmVsIH0gZnJvbSAnLi8uLi9saWIvb3V0cHV0LXBhbmVsJ1xuXG5kZXNjcmliZSgndGVzdCBwYW5lbCcsICgpID0+IHtcbiAgbGV0IG91dHB1dFBhbmVsXG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgb3V0cHV0UGFuZWwgPSBuZXcgT3V0cHV0UGFuZWwoKVxuICB9KVxuXG4gIGRlc2NyaWJlKCdtYWtlIGxpbmsnLCAoKSA9PiB7XG4gICAgaXQoJ3JlbmRlcnMgdGV4dCB3aXRob3V0IGxpbmtzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBvdXRwdXRQYW5lbC5tYWtlTGluaygndGVzdCcpXG4gICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlKDEpXG4gICAgfSlcblxuICAgIGl0KCdyZW5kZXJzIGEgbGluaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gb3V0cHV0UGFuZWwubWFrZUxpbmsoJy9Vc2Vycy91c2VyL2dvL3NyYy9mb28vYmFyLmdvOjIzJylcbiAgICAgIGV4cGVjdChlbGVtZW50cykudG9CZVRydXRoeSgpXG4gICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlKDIpXG4gICAgICBleHBlY3QoZWxlbWVudHNbMF0udGFnKS50b0JlKCdzcGFuJylcbiAgICAgIGV4cGVjdChlbGVtZW50c1sxXS50YWcpLnRvQmUoJ2EnKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzBdLmNoaWxkcmVuWzBdLnRleHQpLnRvQmUoJycpXG4gICAgICBleHBlY3QoZWxlbWVudHNbMV0uY2hpbGRyZW5bMF0udGV4dCkudG9CZShcbiAgICAgICAgJy9Vc2Vycy91c2VyL2dvL3NyYy9mb28vYmFyLmdvOjIzJ1xuICAgICAgKVxuICAgIH0pXG5cbiAgICBpdCgncmVuZGVycyBhIGxpbmsgdG8gYSBnbyBmaWxlIChyZWxhdGl2ZSBwYXRoKScsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gb3V0cHV0UGFuZWwubWFrZUxpbmsoJ2ZhaWx1cmUgYXQgZm9vL2Jhci5nbzoyMycpXG4gICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlKDIpXG4gICAgICBleHBlY3QoZWxlbWVudHNbMF0udGFnKS50b0JlKCdzcGFuJylcbiAgICAgIGV4cGVjdChlbGVtZW50c1sxXS50YWcpLnRvQmUoJ2EnKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzFdLmNoaWxkcmVuWzBdLnRleHQpLnRvQmUoJ2Zvby9iYXIuZ286MjMnKVxuICAgIH0pXG5cbiAgICBpdCgncmVuZGVycyBhIGxpbmsgdG8gYSBnbyBmaWxlIChhYnNvbHV0ZSBwYXRoKScsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gb3V0cHV0UGFuZWwubWFrZUxpbmsoXG4gICAgICAgICdmYWlsdXJlIGF0IC9ob21lL3VzZXIvZ28vc3JjL2Zvby9iYXIuZ286MjMnXG4gICAgICApXG4gICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlKDIpXG4gICAgICBleHBlY3QoZWxlbWVudHNbMF0udGFnKS50b0JlKCdzcGFuJylcbiAgICAgIGV4cGVjdChlbGVtZW50c1sxXS50YWcpLnRvQmUoJ2EnKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzFdLmNoaWxkcmVuWzBdLnRleHQpLnRvQmUoXG4gICAgICAgICcvaG9tZS91c2VyL2dvL3NyYy9mb28vYmFyLmdvOjIzJ1xuICAgICAgKVxuICAgIH0pXG5cbiAgICBpdCgncmVuZGVycyBhIGxpbmsgdG8gYSB0ZXN0IGdvIGZpbGUgKHJlbGF0aXZlIHBhdGgpJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBvdXRwdXRQYW5lbC5tYWtlTGluaygnZmFpbHVyZSBhdCBmb28vYmFyX3Rlc3QuZ286MjMnKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzLmxlbmd0aCkudG9CZSgyKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzBdLnRhZykudG9CZSgnc3BhbicpXG4gICAgICBleHBlY3QoZWxlbWVudHNbMV0udGFnKS50b0JlKCdhJylcbiAgICAgIGV4cGVjdChlbGVtZW50c1sxXS5jaGlsZHJlblswXS50ZXh0KS50b0JlKCdmb28vYmFyX3Rlc3QuZ286MjMnKVxuICAgIH0pXG5cbiAgICBpdCgncmVuZGVycyBhIGxpbmsgdG8gYSB0ZXN0IGdvIGZpbGUgKGFic29sdXRlIHBhdGgpJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBvdXRwdXRQYW5lbC5tYWtlTGluayhcbiAgICAgICAgJ2ZhaWx1cmUgYXQgL2hvbWUvdXNlci9nby9zcmMvZm9vL2Jhcl90ZXN0LmdvOjIzJ1xuICAgICAgKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzLmxlbmd0aCkudG9CZSgyKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzBdLnRhZykudG9CZSgnc3BhbicpXG4gICAgICBleHBlY3QoZWxlbWVudHNbMV0udGFnKS50b0JlKCdhJylcbiAgICAgIGV4cGVjdChlbGVtZW50c1sxXS5jaGlsZHJlblswXS50ZXh0KS50b0JlKFxuICAgICAgICAnL2hvbWUvdXNlci9nby9zcmMvZm9vL2Jhcl90ZXN0LmdvOjIzJ1xuICAgICAgKVxuICAgIH0pXG5cbiAgICBpdCgncmVuZGVycyBsaW5rcyB0byBXaW5kb3dzIHBhdGhzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBvdXRwdXRQYW5lbC5tYWtlTGluayhcbiAgICAgICAgJ2ZhaWx1cmUgYXQgQzpcXFxcVXNlcnNcXFxcTWVcXFxcZ29cXFxcc3JjXFxcXGZvb1xcXFxiYXJfdGVzdC5nbzoyMydcbiAgICAgIClcbiAgICAgIGV4cGVjdChlbGVtZW50cy5sZW5ndGgpLnRvQmUoMilcbiAgICAgIGV4cGVjdChlbGVtZW50c1swXS50YWcpLnRvQmUoJ3NwYW4nKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzFdLnRhZykudG9CZSgnYScpXG4gICAgICBleHBlY3QoZWxlbWVudHNbMV0uY2hpbGRyZW5bMF0udGV4dCkudG9CZShcbiAgICAgICAgJ0M6XFxcXFVzZXJzXFxcXE1lXFxcXGdvXFxcXHNyY1xcXFxmb29cXFxcYmFyX3Rlc3QuZ286MjMnXG4gICAgICApXG4gICAgfSlcblxuICAgIGl0KCdyZW5kZXJzIG11bHRpcGxlIGxpbmtzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBvdXRwdXRQYW5lbC5tYWtlTGluayhcbiAgICAgICAgJ2ZhaWx1cmVzIGF0IGZvby9iYXIuZ286MTIgYW5kIGJhei9xdXV4LmdvOjM0J1xuICAgICAgKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzLmxlbmd0aCkudG9CZSg0KVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzBdLnRhZykudG9CZSgnc3BhbicpXG4gICAgICBleHBlY3QoZWxlbWVudHNbMV0udGFnKS50b0JlKCdhJylcbiAgICAgIGV4cGVjdChlbGVtZW50c1syXS50YWcpLnRvQmUoJ3NwYW4nKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzNdLnRhZykudG9CZSgnYScpXG5cbiAgICAgIGV4cGVjdChlbGVtZW50c1sxXS5jaGlsZHJlblswXS50ZXh0KS50b0JlKCdmb28vYmFyLmdvOjEyJylcbiAgICAgIGV4cGVjdChlbGVtZW50c1szXS5jaGlsZHJlblswXS50ZXh0KS50b0JlKCdiYXovcXV1eC5nbzozNCcpXG4gICAgfSlcblxuICAgIGl0KCdyZW5kZXJzIGEgbGluayB3aXRoIHByZWZpeCBhbmQgc3VmZml4JywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBvdXRwdXRQYW5lbC5tYWtlTGluaygncHJlZml4IGZvby9iYXIuZ286MjMgc3VmZml4JylcbiAgICAgIGV4cGVjdChlbGVtZW50cy5sZW5ndGgpLnRvQmUoMylcbiAgICAgIGV4cGVjdChlbGVtZW50c1swXS50YWcpLnRvQmUoJ3NwYW4nKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzFdLnRhZykudG9CZSgnYScpXG4gICAgICBleHBlY3QoZWxlbWVudHNbMl0udGFnKS50b0JlKCdzcGFuJylcblxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzBdLmNoaWxkcmVuWzBdLnRleHQpLnRvQmUoJ3ByZWZpeCAnKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzFdLmNoaWxkcmVuWzBdLnRleHQpLnRvQmUoJ2Zvby9iYXIuZ286MjMnKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzJdLmNoaWxkcmVuWzBdLnRleHQpLnRvQmUoJyBzdWZmaXgnKVxuICAgIH0pXG5cbiAgICBpdCgncmVuZGVycyBsaW5rcyBpbiBtdWx0aS1saW5lIHRleHQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50cyA9IG91dHB1dFBhbmVsLm1ha2VMaW5rKFxuICAgICAgICAnLS0tIEZBSUw6IFRlc3RGYWlsICgwLjAwcylcXG5cXHRiYXJfdGVzdC5nbzoyMzogRXJyb3IhXFxuRkFJTCdcbiAgICAgIClcbiAgICAgIGV4cGVjdChlbGVtZW50cy5sZW5ndGgpLnRvQmUoMylcbiAgICAgIGV4cGVjdChlbGVtZW50c1swXS5jaGlsZHJlblswXS50ZXh0KS50b0JlKFxuICAgICAgICAnLS0tIEZBSUw6IFRlc3RGYWlsICgwLjAwcylcXG5cXHQnXG4gICAgICApXG4gICAgICBleHBlY3QoZWxlbWVudHNbMV0uY2hpbGRyZW5bMF0udGV4dCkudG9CZSgnYmFyX3Rlc3QuZ286MjMnKVxuICAgICAgZXhwZWN0KGVsZW1lbnRzWzJdLmNoaWxkcmVuWzBdLnRleHQpLnRvQmUoJzogRXJyb3IhXFxuRkFJTCcpXG4gICAgfSlcbiAgfSlcbn0pXG4iXX0=